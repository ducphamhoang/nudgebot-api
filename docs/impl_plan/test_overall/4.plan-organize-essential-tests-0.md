I have created the following plan after thorough exploration and analysis of the codebase. Follow the below plan verbatim. Trust the files and references. Do not re-verify what's written in the plan. Explore only when absolutely necessary. First implement all the proposed file changes and then I'll review all the changes together at the end.

### Observations

The repository has a well-structured test infrastructure but suffers from duplication and lack of organization for critical tests. Essential tests are scattered across different directories and there's no mechanism to run only the most critical integration tests. The existing `integration_test_helpers.go` provides comprehensive infrastructure that can serve as the foundation for consolidated helpers. Current test failures are primarily due to infrastructure setup issues rather than core logic problems. The Go module structure supports the proposed reorganization without breaking existing functionality.

### Approach

Based on comprehensive analysis of the repository's test structure, I've identified 9 essential integration tests that validate core MVP user stories and need to be reorganized into a unified `test/essential` structure. The current test infrastructure has duplicate helper functions scattered across multiple files and lacks a deterministic execution mechanism for critical integration flows.

The approach involves consolidating test helpers into a canonical source, creating a logical directory structure that separates flows/services/reliability tests, implementing a master test suite for deterministic ordering, and updating CI infrastructure to support essential-only test execution.

### Reasoning

I analyzed the repository structure and found 22 test files across `/integration`, `/internal`, `/unit`, and other directories. I examined the test failure documentation in `/docs/impl_plan/test_overall/` to understand current issues. I identified duplicate helper implementations in `integration_test_helpers.go` (648 lines, comprehensive) and `integration/testhelpers.go` (98 lines, basic). I cross-referenced tests against MVP user stories in `docs/mvp_prd.md` to classify them as essential vs support. I validated module paths and import implications for the reorganization. I examined the current CI/Makefile structure to understand how to integrate essential test targets.

## Mermaid Diagram

sequenceDiagram
    participant Dev as Developer
    participant Make as Makefile
    participant Suite as EssentialSuite
    participant Helpers as TestHelpers
    participant DB as TestDatabase
    participant Tests as EssentialTests

    Dev->>Make: make test-essential-suite
    Make->>Suite: TestEssentialSuite()
    Suite->>Helpers: SetupTestEnvironment()
    Helpers->>DB: SetupTestDatabase()
    DB-->>Helpers: TestContainer + cleanup
    Helpers-->>Suite: Environment ready

    loop For each essential test
        Suite->>Tests: Execute test function
        Tests->>Helpers: Use consolidated helpers
        Tests->>DB: Validate functionality
        DB-->>Tests: Results
        Tests-->>Suite: Test complete
        Suite->>Helpers: ResetSharedState()
        Helpers->>DB: Clean database
        DB-->>Helpers: Reset complete
    end

    Suite->>Helpers: CleanupTestEnvironment()
    Helpers->>DB: TeardownTestDatabase()
    DB-->>Helpers: Cleanup complete
    Suite-->>Make: All tests complete
    Make-->>Dev: Test results

## Proposed File Changes

### test(NEW)

Create the main test directory to house the essential test structure.

### test/essential(NEW)

Create the essential test directory that will contain all critical integration tests organized by category.

### test/essential/flows(NEW)

Create directory for end-to-end flow tests that validate complete user scenarios from webhook to database.

### test/essential/services(NEW)

Create directory for core service tests that validate individual service functionality and event-driven interactions.

### test/essential/reliability(NEW)

Create directory for reliability and error handling tests that validate system behavior under failure conditions.

### test/essential/helpers(NEW)

Create directory for consolidated test helper functions and infrastructure that will be shared across all essential tests.

### test/essential/helpers/integration.go(NEW)

References: 

- integration_test_helpers.go(DELETE)
- integration/testhelpers.go(DELETE)
- integration/message_flow_test.go(DELETE)
- integration/callback_query_flow_test.go(DELETE)

Create the consolidated test helpers file by migrating and enhancing the comprehensive infrastructure from `integration_test_helpers.go`. This file will serve as the canonical source for all test infrastructure.

**Core Infrastructure to Include:**
- TestContainer struct with Container, DB, Config, ctx fields
- SetupTestDatabase function updated to return (*TestContainer, func()) for Go-idiomatic cleanup pattern
- TeardownTestDatabase method and cleanup function support
- ResetDatabase method for cleaning test data between tests
- IntegrationTestSuite struct for orchestrating complete test environments
- SetupIntegrationTestSuite, TeardownIntegrationTestSuite, ResetTestEnvironment functions

**Mock Infrastructure:**
- MockTelegramAPIServer, MockGemmaAPIServer implementations
- TestAPIServer struct with SetResponse, Start, Stop, GetURL methods
- TestMocks struct containing all mock service instances

**Test Utilities:**
- EventFlowTester for event-driven test assertions with timeouts
- Assertion helpers: AssertEventuallyTrue, AssertMessageSent, AssertEventPublished, AssertTaskCreated
- CreateTestTelegramWebhook function for generating webhook JSON payloads
- Load testing utilities and performance test configuration

**Additional Helpers to Port:**
- telegramIDToUUID function from `integration/message_flow_test.go`
- Callback helpers: createTaskActionCallbackData, createSnoozeCallbackData, createPaginationCallbackData, createTestCallbackQuery from `integration/callback_query_flow_test.go`
- Test data helpers: CreateTestUser, CreateTestTask, CreateTestReminder
- Environment setup/cleanup: SetupTestEnvironment, CleanupTestEnvironment

**Package and Export Requirements:**
- Use `package helpers` declaration
- Export all helper functions by capitalizing function names
- Add `//go:build integration` build tag
- Include comprehensive documentation for each helper function

**Compatibility Enhancements:**
- Support both method-based cleanup (TestContainer.TeardownTestDatabase) and function-based cleanup (returned cleanup function)
- Provide ResetSharedState function that wraps ResetTestEnvironment for master suite usage
- Ensure all mock providers are properly initialized and can be reset between tests

### test/essential/flows/message_flow_test.go(NEW)

References: 

- integration/message_flow_test.go(DELETE)
- test/essential/helpers/integration.go(NEW)

Move the essential message flow integration tests from `integration/message_flow_test.go` to the new flows directory.

**Tests to Include:**
- TestMessageFlowIntegration: Validates complete webhook-to-database flow (US-02, US-03)
- TestMessageFlowIntegrationWithInvalidMessage: Tests error handling for invalid webhook payloads (US-10)

**Required Changes:**
- Keep `//go:build integration` build tag
- Keep `package integration` declaration for consistency
- Update imports to use `nudgebot-api/test/essential/helpers` for helper functions
- Remove local telegramIDToUUID function (now available in helpers)
- Ensure createTestTelegramWebhook is imported from helpers
- Update any service constructor calls to match current API patterns
- Preserve all test logic and assertions
- Update database setup calls to use consolidated helper patterns

**Test Function Signatures:**
- Maintain existing function names for compatibility with master suite
- Ensure functions accept `*testing.T` parameter for suite integration
- Preserve test timeout and context handling patterns

### test/essential/flows/callback_query_flow_test.go(NEW)

References: 

- integration/callback_query_flow_test.go(DELETE)
- test/essential/helpers/integration.go(NEW)
- docs/impl_plan/test_overall/3.1_test_failure.md

Move the essential callback query flow tests from `integration/callback_query_flow_test.go` to the new flows directory.

**Tests to Include:**
- TestCallbackFlow_TaskDoneButton: Tests task completion via inline button (US-05, US-09)
- TestCallbackFlow_TaskDeleteButton: Tests task deletion via inline button (US-09)
- TestCallbackFlow_SnoozeButton: Tests task snoozing functionality (US-05)
- TestCallbackFlow_TaskListNavigation: Tests task list pagination (US-07)
- TestCallbackFlow_InvalidCallbackData: Tests error handling for malformed callback data (US-10)
- TestCallbackFlow_CallbackForNonExistentTask: Tests error handling for non-existent tasks (US-10)

**Required Changes:**
- Keep `//go:build integration` build tag
- Keep `package integration` declaration
- Update imports to use `nudgebot-api/test/essential/helpers`
- Remove local callback helper functions (now available in consolidated helpers)
- Update service constructor calls to match current API patterns from test failure documentation
- Fix compilation issues noted in test failure docs by using correct service constructors
- Update database setup to use consolidated helper patterns
- Ensure all callback data creation functions are imported from helpers

**Service Constructor Updates:**
- Use `chatbot.NewChatbotServiceWithProvider` with correct parameter order
- Use `events.NewEventBus(zapLogger)` instead of `events.NewEventBus()`
- Use `nudge.NewGormNudgeRepository(testContainer.DB, zapLogger)` pattern
- Update logger variable naming from `logger` to `zapLogger` for consistency

### test/essential/flows/command_flow_test.go(NEW)

References: 

- integration/command_flow_http_test.go(DELETE)
- test/essential/helpers/integration.go(NEW)
- docs/impl_plan/test_overall/3.1_test_failure.md

Move the essential command flow tests from `integration/command_flow_http_test.go` to the new flows directory.

**Tests to Include:**
- TestCommandFlow_StartCommand: Tests /start command functionality (US-01)
- TestCommandFlow_ListCommand: Tests /list command for task viewing (US-07)
- TestCommandFlow_DoneCommand: Tests /done command for task completion (US-08)
- TestCommandFlow_DeleteCommand: Tests /delete command for task removal (US-09)
- TestCommandFlow_InvalidCommand: Tests error handling for unknown commands (US-10)
- TestCommandFlow_CommandWithInvalidArgs: Tests error handling for invalid command arguments (US-10)

**Required Changes:**
- Keep `//go:build integration` build tag
- Keep `package integration` declaration
- Update imports to use `nudgebot-api/test/essential/helpers`
- Remove local createTestTelegramWebhook function (now available in helpers)
- Update service constructor calls to match current API patterns
- Fix compilation issues noted in test failure documentation
- Update database setup to use consolidated helper patterns
- Ensure webhook payload creation functions are imported from helpers

**Service Constructor Fixes:**
- Apply the same constructor pattern fixes as identified for callback tests
- Use proper logger variable naming and service initialization patterns
- Update event bus initialization to include logger parameter

### test/essential/flows/scheduler_reminder_flow_test.go(NEW)

References: 

- integration/scheduler_reminder_flow_test.go(DELETE)
- test/essential/helpers/integration.go(NEW)
- docs/impl_plan/test_overall/3.1_test_failure.md

Move the essential scheduler reminder flow tests from `integration/scheduler_reminder_flow_test.go` to the new flows directory.

**Tests to Include:**
- TestSchedulerReminderFlow_DueTaskReminder: Tests reminder sending for overdue tasks (US-04, US-06)
- TestSchedulerReminderFlow_NudgeAfterOverdue: Tests nudge functionality after tasks become overdue (US-06)
- TestSchedulerReminderFlow_UserActionAfterReminder: Tests user response to reminders (US-05)
- TestSchedulerReminderFlow_MultipleTasksAndUsers: Tests concurrent reminder processing for multiple users

**Required Changes:**
- Keep `//go:build integration` build tag
- Keep `package integration` declaration
- Update imports to use `nudgebot-api/test/essential/helpers` if needed
- Update service constructor calls to match current API patterns
- Fix compilation issues noted in test failure documentation
- Update database setup to use consolidated helper patterns
- Preserve all scheduler configuration and timing logic

**Service Constructor Updates:**
- Apply consistent service constructor patterns
- Update repository initialization to use proper constructor signatures
- Ensure mock provider initialization follows established patterns
- Update event bus and logger initialization

### test/essential/services/chatbot_service_test.go(NEW)

References: 

- internal/chatbot/service_test.go(DELETE)
- test/essential/helpers/integration.go(NEW)
- docs/impl_plan/test_overall/1.1_test_failure.md

Move the essential chatbot service tests from `internal/chatbot/service_test.go` to the new services directory.

**Tests to Include:**
- All event-driven chatbot service tests that validate core MVP functionality
- Event subscription and handling tests
- Integration tests for chatbot service with other components
- Error handling and recovery tests

**Required Changes:**
- Keep original `package chatbot` declaration to maintain service test context
- Add `//go:build integration` build tag if not present (these are integration-level service tests)
- Update imports to use `nudgebot-api/test/essential/helpers` if helper functions are needed
- Preserve all existing test logic and service validation
- Address any event subscription issues noted in test failure documentation
- Ensure proper mock initialization and event bus setup

**Integration Considerations:**
- These tests validate the event-driven architecture that is core to the MVP
- Maintain existing service test patterns while ensuring compatibility with essential test infrastructure
- Address any event bus subscription validation issues noted in failure docs

### test/essential/services/llm_service_test.go(NEW)

References: 

- internal/llm/service_test.go(DELETE)
- test/essential/helpers/integration.go(NEW)

Move the essential LLM service tests from `internal/llm/service_test.go` to the new services directory.

**Tests to Include:**
- LLM message parsing and task creation tests (US-02)
- Event subscription and handling for LLM service
- Integration tests for LLM service with event bus
- Task parsing validation and error handling

**Required Changes:**
- Keep original `package llm` declaration to maintain service test context
- Add `//go:build integration` build tag if not present
- Update imports to use `nudgebot-api/test/essential/helpers` if helper functions are needed
- Preserve all existing test logic for LLM parsing functionality
- Ensure compatibility with current LLM domain types (avoid legacy TaskSuggestion references)
- Maintain event-driven integration test patterns

**Domain Type Validation:**
- Ensure tests use current LLM domain types: ParsedTask, LLMResponse, ParseRequest
- Avoid any references to legacy types like TaskSuggestion that don't exist in current codebase
- Validate that service interface methods match current implementation

### test/essential/services/scheduler_service_test.go(NEW)

References: 

- internal/scheduler/scheduler_test.go(DELETE)
- test/essential/helpers/integration.go(NEW)

Move the essential scheduler service tests from `internal/scheduler/scheduler_test.go` to the new services directory.

**Tests to Include:**
- Scheduler start/stop lifecycle tests
- Reminder processing and nudge creation tests (US-04, US-06)
- Error handling and recovery tests
- Metrics and monitoring validation tests

**Required Changes:**
- Keep original `package scheduler` declaration to maintain service test context
- Add `//go:build integration` build tag if not present
- Update imports to use `nudgebot-api/test/essential/helpers` if helper functions are needed
- Preserve all existing scheduler service validation logic
- Maintain repository mock setup patterns
- Ensure proper service lifecycle testing

**Service Integration:**
- These tests validate core reminder and nudge functionality essential to MVP
- Maintain existing patterns for scheduler configuration and worker management
- Preserve timing and concurrency test logic

### test/essential/services/nudge_service_test.go(NEW)

References: 

- internal/nudge/service_test.go(DELETE)
- test/essential/helpers/integration.go(NEW)
- docs/impl_plan/test_overall/2.1_test_failure.md

Move the essential nudge service tests from `internal/nudge/service_test.go` to the new services directory.

**Tests to Include:**
- Task action and event flow tests (US-04, US-05, US-06)
- Event subscription health and business logic tests
- Integration tests for nudge service with event bus
- Task management and status update tests

**Required Changes:**
- Keep original `package nudge` declaration to maintain service test context
- Add `//go:build integration` build tag if not present
- Update imports to use `nudgebot-api/test/essential/helpers` if helper functions are needed
- Preserve all existing nudge service business logic validation
- Address any UUID validation issues noted in test failure documentation
- Ensure proper repository mock setup and event bus integration

**Data Format Fixes:**
- Update any test data to use proper UUID formats instead of simple strings like "user123"
- Use `common.NewUserID()`, `common.NewTaskID()` for generating valid test IDs
- Address UUID validation failures noted in test failure documentation

### test/essential/reliability/llm_provider_error_test.go(NEW)

References: 

- unit/llm_provider_error_test.go(DELETE)
- test/essential/helpers/integration.go(NEW)

Move the essential LLM provider error handling tests from `unit/llm_provider_error_test.go` to the new reliability directory.

**Tests to Include:**
- TestLLMProvider_NetworkConnectionFailure: Tests network error handling for LLM integration (US-02, US-10)
- Any other LLM reliability and error handling tests

**Required Changes:**
- Keep original `package unit` declaration or update to `package reliability` as appropriate
- Add `//go:build integration` build tag if not present (these test integration reliability)
- Update imports to use `nudgebot-api/test/essential/helpers` if helper functions are needed
- Preserve all existing error handling and reliability test logic
- Ensure compatibility with current LLM provider interfaces

**Reliability Focus:**
- These tests validate system behavior under failure conditions
- Critical for ensuring LLM integration robustness in production
- Maintain existing error simulation and recovery validation patterns

### test/essential/essential_suite_test.go(NEW)

References: 

- test/essential/helpers/integration.go(NEW)
- test/essential/flows/message_flow_test.go(NEW)
- test/essential/flows/callback_query_flow_test.go(NEW)

Create the master test suite that orchestrates all essential tests in a deterministic order.

**Master Suite Implementation:**
- Use `//go:build integration` build tag
- Use `package integration` declaration for consistency with flow tests
- Import `nudgebot-api/test/essential/helpers` for infrastructure
- Import `reflect` and `runtime` packages for function name resolution

**TestEssentialSuite Function Structure:**
```
func TestEssentialSuite(t *testing.T) {
    // Setup global test environment
    helpers.SetupTestEnvironment()
    defer helpers.CleanupTestEnvironment()
    
    // Define deterministic test execution order
    ordered := []func(t *testing.T){
        // Flow tests (end-to-end scenarios)
        TestMessageFlowIntegration,
        TestCallbackFlow_TaskDoneButton,
        TestCallbackFlow_TaskDeleteButton, 
        TestCommandFlow_StartCommand,
        TestCommandFlow_ListCommand,
        TestSchedulerReminderFlow_DueTaskReminder,
        
        // Service tests (individual components)
        // Note: These will need to be imported or re-exported
        
        // Reliability tests
        TestLLMProvider_NetworkConnectionFailure,
    }
    
    // Execute tests in order with state cleanup
    for _, fn := range ordered {
        name := runtime.FuncForPC(reflect.ValueOf(fn).Pointer()).Name()
        t.Run(name, func(t *testing.T) {
            fn(t)
            helpers.ResetSharedState(t) // Clean state between tests
        })
    }
}
```

**State Management:**
- Use `helpers.ResetSharedState(t)` between tests to ensure clean state
- Implement proper database cleanup and mock reset
- Handle container lifecycle across multiple test executions

**Function Import Strategy:**
- Flow tests will be in same package (integration) so directly callable
- Service tests in different packages will need import strategy or re-export pattern
- Consider creating test function registry or import aliases

**Parallel Execution Handling:**
- Use `t.Parallel()` judiciously - avoid for stateful integration tests
- Ensure deterministic execution order for tests that depend on database state
- Provide option to run individual tests outside of suite for debugging

### Makefile(MODIFY)

Add new Makefile targets to support essential test execution and integrate with existing CI infrastructure.

**New Targets to Add:**

1. **test-essential**: Run all essential tests using directory filter
```makefile
test-essential: generate-mocks
	@echo "Running essential integration tests..."
	$(GOCMD) test -v -race -count=1 -tags=integration -timeout=$(TEST_TIMEOUT) ./test/essential/...
```

2. **test-essential-suite**: Run the master test suite for deterministic execution
```makefile
test-essential-suite: generate-mocks  
	@echo "Running essential test suite..."
	$(GOCMD) test -v -race -count=1 -tags=integration -timeout=$(TEST_TIMEOUT) -run TestEssentialSuite ./test/essential/
```

3. **test-essential-flows**: Run only the flow tests
```makefile
test-essential-flows: generate-mocks
	@echo "Running essential flow tests..."
	$(GOCMD) test -v -race -count=1 -tags=integration -timeout=$(TEST_TIMEOUT) ./test/essential/flows/
```

4. **test-essential-services**: Run only the service tests
```makefile
test-essential-services: generate-mocks
	@echo "Running essential service tests..."
	$(GOCMD) test -v -race -count=1 -tags=integration -timeout=$(TEST_TIMEOUT) ./test/essential/services/
```

**Update Existing Targets:**
- Update `test-all` target to include essential tests: `test-unit test-integration test-essential`
- Update `ci` target to include essential test validation
- Update `help` target to document new essential test targets

**Target Documentation:**
Add descriptions for new targets in the help section:
- `test-essential`: "Run all essential integration tests"
- `test-essential-suite`: "Run essential tests in deterministic order via master suite"
- `test-essential-flows`: "Run essential end-to-end flow tests"
- `test-essential-services`: "Run essential service integration tests"

**Dependencies:**
- All essential test targets should depend on `generate-mocks` to ensure mocks are current
- Consider adding dependency on `test-db-setup` if database container is required
- Maintain existing timeout and race detection settings

### docs/impl_plan/test_overall/4.1_test_fail.md(NEW)

References: 

- docs/impl_plan/test_overall/1.1_test_failure.md
- docs/impl_plan/test_overall/2.1_test_failure.md
- docs/impl_plan/test_overall/3.1_test_failure.md

Create documentation for non-essential test failures and reorganization notes following the established format pattern.

**Document Structure:**

1. **Header and Summary**
   - Title: "Test Reorganization and Non-Essential Failure Documentation"
   - Summary of reorganization process and scope
   - Date and context of reorganization

2. **Test Execution Context**
   - Command used for reorganization validation
   - Overall status of essential vs non-essential test separation
   - Primary objectives achieved and remaining issues

3. **Non-Essential Test Analysis**
   - List of tests intentionally excluded from essential set
   - Support tests: infrastructure, config, logging, event bus, database, API handlers
   - Legacy tests: any outdated or deprecated test files
   - Per-category breakdown with justification for exclusion

4. **Reorganization Issues**
   - Any compilation or runtime issues encountered during test migration
   - Service constructor mismatches that were resolved
   - Import path updates and their impact
   - Helper function consolidation challenges

5. **Non-Essential Test Failures**
   - Document any support tests that fail but don't block MVP functionality
   - Configuration test failures due to environment mismatches
   - Infrastructure test failures that are not critical
   - Priority classification: low/medium/high for future fixes

6. **Root Cause Analysis**
   - Environment configuration issues in non-essential tests
   - Test data format issues (UUID validation, etc.)
   - Mock setup patterns that need standardization
   - Database initialization issues in health check tests

7. **Recommendations and Next Steps**
   - Guidance on when to address non-essential test failures
   - Incremental improvement plan for support test infrastructure
   - Configuration isolation improvements
   - Mock standardization recommendations

8. **Status Summary**
   - Essential test reorganization: COMPLETED
   - Non-essential test status: DOCUMENTED
   - Future maintenance plan: OUTLINED
   - MVP readiness: VALIDATED

**Content Guidelines:**
- Follow the format pattern established in `1.1_test_failure.md`, `2.1_test_failure.md`, `3.1_test_failure.md`
- Focus on non-blocking issues that can be addressed incrementally
- Provide clear priority guidance for future development
- Include specific file paths and error details where relevant
- Maintain professional tone and actionable recommendations

### integration_test_helpers.go(DELETE)

References: 

- test/essential/helpers/integration.go(NEW)

Remove the original integration test helpers file after successfully migrating all functionality to the consolidated helpers in `test/essential/helpers/integration.go`. This eliminates duplication and ensures all tests use the canonical helper source.

### integration/testhelpers.go(DELETE)

References: 

- test/essential/helpers/integration.go(NEW)

Remove the basic integration test helpers file after merging its cleanup function pattern into the consolidated helpers. This eliminates the duplicate TestContainer implementation and ensures consistent helper usage.

### integration/message_flow_test.go(DELETE)

References: 

- test/essential/flows/message_flow_test.go(NEW)

Remove the original message flow test file after successfully migrating to `test/essential/flows/message_flow_test.go`. This completes the reorganization of essential flow tests.

### integration/callback_query_flow_test.go(DELETE)

References: 

- test/essential/flows/callback_query_flow_test.go(NEW)

Remove the original callback query flow test file after successfully migrating to `test/essential/flows/callback_query_flow_test.go`. This completes the reorganization of essential callback tests.

### integration/command_flow_http_test.go(DELETE)

References: 

- test/essential/flows/command_flow_test.go(NEW)

Remove the original command flow test file after successfully migrating to `test/essential/flows/command_flow_test.go`. This completes the reorganization of essential command tests.

### integration/scheduler_reminder_flow_test.go(DELETE)

References: 

- test/essential/flows/scheduler_reminder_flow_test.go(NEW)

Remove the original scheduler reminder flow test file after successfully migrating to `test/essential/flows/scheduler_reminder_flow_test.go`. This completes the reorganization of essential scheduler tests.

### internal/chatbot/service_test.go(DELETE)

References: 

- test/essential/services/chatbot_service_test.go(NEW)

Remove the original chatbot service test file after successfully migrating to `test/essential/services/chatbot_service_test.go`. This completes the reorganization of essential service tests.

### internal/llm/service_test.go(DELETE)

References: 

- test/essential/services/llm_service_test.go(NEW)

Remove the original LLM service test file after successfully migrating to `test/essential/services/llm_service_test.go`. This completes the reorganization of essential LLM tests.

### internal/scheduler/scheduler_test.go(DELETE)

References: 

- test/essential/services/scheduler_service_test.go(NEW)

Remove the original scheduler service test file after successfully migrating to `test/essential/services/scheduler_service_test.go`. This completes the reorganization of essential scheduler service tests.

### internal/nudge/service_test.go(DELETE)

References: 

- test/essential/services/nudge_service_test.go(NEW)

Remove the original nudge service test file after successfully migrating to `test/essential/services/nudge_service_test.go`. This completes the reorganization of essential nudge service tests.

### unit/llm_provider_error_test.go(DELETE)

References: 

- test/essential/reliability/llm_provider_error_test.go(NEW)

Remove the original LLM provider error test file after successfully migrating to `test/essential/reliability/llm_provider_error_test.go`. This completes the reorganization of essential reliability tests.